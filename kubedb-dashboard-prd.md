# KubeDB Monitor ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ PRD

## ğŸ¯ ë¹„ì „ ë° ëª©í‘œ

### ë¹„ì „
**ì œë‹ˆí¼(Jennifer) APMê³¼ ê°™ì€ ìˆ˜ì¤€ì˜ ì•„ë¦„ë‹µê³  ì§ê´€ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ êµ¬í˜„**

### í•µì‹¬ ëª©í‘œ
- ğŸ¨ **ì‹œê°ì  ìš°ìˆ˜ì„±**: ì œë‹ˆí¼ ìˆ˜ì¤€ì˜ ì•„ë¦„ë‹¤ìš´ UI/UX
- âš¡ **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: ë°€ë¦¬ì´ˆ ë‹¨ìœ„ ì‹¤ì‹œê°„ ë°ì´í„° ì‹œê°í™”
- ğŸ­ **ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼**: ìì—°ìŠ¤ëŸ½ê³  ì§ê´€ì ì¸ ë°ì´í„° í”Œë¡œìš° í‘œí˜„
- ğŸ”§ **ì œë¡œ ì˜ì¡´ì„±**: ì™¸ë¶€ ì„œë¹„ìŠ¤ ì˜ì¡´ì„± ìµœì†Œí™”
- ğŸš€ **ê³ ì„±ëŠ¥**: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ë° ì‹¤ì‹œê°„ ë Œë”ë§

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ êµ¬ì„±ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Web Dashboard                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Real-time   â”‚ â”‚ Analytics   â”‚ â”‚ Alert       â”‚       â”‚
â”‚  â”‚ Monitoring  â”‚ â”‚ Dashboard   â”‚ â”‚ Center      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ WebSocket/SSE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            KubeDB Monitor Control Plane                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Data        â”‚ â”‚ Metrics     â”‚ â”‚ Alert       â”‚       â”‚
â”‚  â”‚ Collector   â”‚ â”‚ Processor   â”‚ â”‚ Engine      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ gRPC/HTTP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Agent Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ JDBC        â”‚ â”‚ Connection  â”‚ â”‚ Performance â”‚       â”‚
â”‚  â”‚ Interceptor â”‚ â”‚ Monitor     â”‚ â”‚ Profiler    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê³„ì¸µë³„ ìƒì„¸ ì„¤ê³„

#### 1ï¸âƒ£ **Agent Layer** (KubeDB Monitor Agent ê°œì„ )
**ëª©í‘œ**: í’ë¶€í•œ ë©”íŠ¸ë¦­ ë°ì´í„° ìˆ˜ì§‘ ë° ì‹¤ì‹œê°„ ì „ì†¡

```java
// ê°œì„ ëœ Agent êµ¬ì¡°
public class KubeDBMonitorAgent {
    - JDBCInterceptor: SQL ì¿¼ë¦¬ ì¸í„°ì…‰ì…˜
    - ConnectionPoolMonitor: ì»¤ë„¥ì…˜ í’€ ëª¨ë‹ˆí„°ë§
    - PerformanceProfiler: ì‹¤í–‰ ê³„íš ë¶„ì„
    - MetricsCollector: í†µê³„ ë°ì´í„° ìˆ˜ì§‘
    - StreamingReporter: ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡
}
```

**JSON ë¡œê·¸ í¬ë§· ê°œì„ **:
```json
{
  "timestamp": "2025-08-09T10:30:45.123Z",
  "pod_name": "university-registration-demo-abc123",
  "namespace": "kubedb-monitor-test",
  "event_type": "query_execution",
  "data": {
    "query_id": "q_001_20250809103045",
    "sql_hash": "sha256:abc123...",
    "sql_pattern": "SELECT * FROM ? WHERE ? = ?",
    "sql_type": "SELECT",
    "table_names": ["students", "departments"],
    "execution_time_ms": 45,
    "rows_affected": 23,
    "connection_id": "conn_pool_001",
    "thread_name": "http-nio-8080-exec-7",
    "memory_used_bytes": 2048576,
    "cpu_time_ms": 12,
    "io_read_bytes": 4096,
    "io_write_bytes": 1024,
    "lock_time_ms": 2,
    "status": "success",
    "error_code": null,
    "error_message": null,
    "explain_plan": {...},
    "stack_trace": [...]
  },
  "context": {
    "request_id": "req_user_registration_001",
    "user_session": "session_abc123",
    "api_endpoint": "/api/students",
    "business_operation": "student_enrollment"
  },
  "metrics": {
    "connection_pool_active": 5,
    "connection_pool_idle": 3,
    "connection_pool_max": 10,
    "heap_used_mb": 128,
    "heap_max_mb": 512,
    "gc_count": 2,
    "gc_time_ms": 15
  }
}
```

#### 2ï¸âƒ£ **Control Plane** (ìƒˆë¡œ êµ¬í˜„)
**ëª©í‘œ**: ê³ ì„±ëŠ¥ ë°ì´í„° ì²˜ë¦¬ ë° ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°

**ê¸°ìˆ  ìŠ¤íƒ**:
- **ì–¸ì–´**: Go (ê³ ì„±ëŠ¥, ê²½ëŸ‰í™”)
- **ë°ì´í„° ì €ì¥**: ClickHouse (ì‹œê³„ì—´ ë°ì´í„° ìµœì í™”)
- **ìŠ¤íŠ¸ë¦¬ë°**: WebSocket + Server-Sent Events
- **ìºì‹±**: Redis (ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ ìºì‹±)

**ì£¼ìš” ì»´í¬ë„ŒíŠ¸**:
```go
// Control Plane êµ¬ì¡°
type ControlPlane struct {
    DataCollector   *collector.Service    // Agentë¡œë¶€í„° ë°ì´í„° ìˆ˜ì§‘
    MetricsProcessor *processor.Service   // ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ ê³„ì‚°
    AlertEngine     *alert.Engine        // ì„ê³„ê°’ ê¸°ë°˜ ì•Œë¦¼
    WebSocketHub    *websocket.Hub       // ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡
    TimeSeriesDB    *clickhouse.Client   // ì‹œê³„ì—´ ë°ì´í„° ì €ì¥
    MetricsCache    *redis.Client        // ì‹¤ì‹œê°„ ìºì‹œ
}
```

#### 3ï¸âƒ£ **Web Dashboard** (React/Next.js)
**ëª©í‘œ**: ì œë‹ˆí¼ ìˆ˜ì¤€ì˜ ì•„ë¦„ë‹¤ìš´ ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ

**ê¸°ìˆ  ìŠ¤íƒ**:
- **í”„ë¡ íŠ¸ì—”ë“œ**: React 18 + Next.js 14
- **ìƒíƒœ ê´€ë¦¬**: Zustand + React Query
- **ì‹œê°í™”**: D3.js + Canvas/WebGL
- **ì• ë‹ˆë©”ì´ì…˜**: Framer Motion + GSAP
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS + Styled Components

---

## ğŸ¨ UI/UX ì„¤ê³„

### ë©”ì¸ ëŒ€ì‹œë³´ë“œ êµ¬ì„±

#### 1. **ì‹¤ì‹œê°„ ì¿¼ë¦¬ í”Œë¡œìš° ì‹œê°í™”**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Real-time Query Flow                    â”‚
â”‚                                                         â”‚
â”‚  [App] â”€â”€SQLâ”€â”€> [Pool] â”€â”€Queryâ”€â”€> [DB] â”€â”€Resultâ”€â”€> [App] â”‚
â”‚    ğŸ”„           ğŸ’¾ 5/10           ğŸ—„ï¸            ğŸ“Š      â”‚
â”‚                                                         â”‚
â”‚  â•­â”€ ì‹¤í–‰ì¤‘ì¸ ì¿¼ë¦¬ ì• ë‹ˆë©”ì´ì…˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®  â”‚
â”‚  â”‚ SELECT * FROM students WHERE...    â±ï¸ 45ms      â”‚  â”‚
â”‚  â”‚ INSERT INTO departments...         â±ï¸ 12ms      â”‚  â”‚
â”‚  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. **ì„±ëŠ¥ ë©”íŠ¸ë¦­ ì¹´ë“œ**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   QPS       â”‚ â”‚ Avg Latency â”‚ â”‚ Active Conn â”‚ â”‚ Error Rate  â”‚
â”‚   ğŸ”¥ 1,234  â”‚ â”‚   âš¡ 23ms   â”‚ â”‚   ğŸ”— 15/50  â”‚ â”‚   âŒ 0.1%  â”‚
â”‚   â†—ï¸ +12%   â”‚ â”‚   â†˜ï¸ -5ms   â”‚ â”‚   ğŸ“ˆ Graph  â”‚ â”‚   â†˜ï¸ -0.2% â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. **ì¿¼ë¦¬ íˆíŠ¸ë§µ**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Query Heatmap (Last 24h)                  â”‚
â”‚                                                         â”‚
â”‚ 00:00 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 23:59   â”‚
â”‚ Slow  ğŸ”´ğŸ”´ğŸ”´âšªâšªâšªâšªğŸŸ¡ğŸŸ¡ğŸŸ¡ğŸ”´ğŸ”´ğŸ”´âšªâšªâšªâšªğŸŸ¢ğŸŸ¢ğŸŸ¢ Fast â”‚
â”‚                                                         â”‚
â”‚ ğŸ“Š Peak: 14:30 (2,456 QPS) | Slow: 09:15 (145ms avg)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìƒì„¸ ë¶„ì„ ëŒ€ì‹œë³´ë“œ

#### 4. **SQL ë¶„ì„ ì°¨íŠ¸**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Query Types     â”‚ â”‚ Table Access    â”‚ â”‚ Execution Time  â”‚
â”‚                 â”‚ â”‚                 â”‚ â”‚                 â”‚
â”‚ ğŸ” SELECT  68%  â”‚ â”‚ students    45% â”‚ â”‚ ğŸŸ¢ <10ms   72% â”‚
â”‚ ğŸ“ INSERT  18%  â”‚ â”‚ courses     28% â”‚ â”‚ ğŸŸ¡ 10-50ms  23% â”‚
â”‚ âœï¸ UPDATE  12%  â”‚ â”‚ enrollments 15% â”‚ â”‚ ğŸ”´ >50ms     5% â”‚
â”‚ ğŸ—‘ï¸ DELETE   2%  â”‚ â”‚ others      12% â”‚ â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‹¤ì‹œê°„ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼

#### 1. **ì¿¼ë¦¬ íë¦„ ì• ë‹ˆë©”ì´ì…˜**
- SQL ì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ íŒŒí‹°í´ íš¨ê³¼
- ì»¤ë„¥ì…˜ í’€ì—ì„œ DBë¡œ íë¥´ëŠ” ë°ì´í„° ìŠ¤íŠ¸ë¦¼
- ì‘ë‹µ ì‹œê°„ì— ë”°ë¥¸ ìƒ‰ìƒ ë³€í™” (ë¹ ë¦„:ë…¹ìƒ‰ â†’ ë³´í†µ:ë…¸ë‘ â†’ ëŠë¦¼:ë¹¨ê°•)

#### 2. **ë©”íŠ¸ë¦­ ì¹´ìš´í„° ì• ë‹ˆë©”ì´ì…˜**
- ìˆ«ì ì¦ê°€/ê°ì†Œ ì‹œ ë¶€ë“œëŸ¬ìš´ íŠ¸ëœì§€ì…˜
- ì„ê³„ê°’ ì´ˆê³¼ ì‹œ í„ìŠ¤ íš¨ê³¼
- íŠ¸ë Œë“œ í™”ì‚´í‘œ íšŒì „ ì• ë‹ˆë©”ì´ì…˜

#### 3. **ì°¨íŠ¸ ì—…ë°ì´íŠ¸ ì• ë‹ˆë©”ì´ì…˜**
- ì‹¤ì‹œê°„ ë°ì´í„° ì¶”ê°€ ì‹œ smooth transition
- ë¼ì¸ ì°¨íŠ¸ì˜ ê·¸ë¼ë°ì´ì…˜ íš¨ê³¼
- ë„ë„› ì°¨íŠ¸ì˜ íšŒì „ ì• ë‹ˆë©”ì´ì…˜

---

## ğŸ”§ ê¸°ìˆ  êµ¬í˜„ ìƒì„¸

### Phase 1: Agent ê°œì„  (1-2ì£¼)

#### 1.1 JSON ë¡œê·¸ í¬ë§· êµ¬í˜„
```java
@Component
public class StructuredLogger {
    private static final ObjectMapper mapper = new ObjectMapper();
    
    public void logQueryExecution(QueryMetrics metrics) {
        LogEvent event = LogEvent.builder()
            .timestamp(Instant.now())
            .eventType("query_execution")
            .data(metrics)
            .context(getCurrentContext())
            .metrics(getSystemMetrics())
            .build();
            
        // êµ¬ì¡°í™”ëœ JSON ë¡œê·¸ ì¶œë ¥
        System.out.println("KUBEDB_METRICS: " + mapper.writeValueAsString(event));
    }
}
```

#### 1.2 ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ê°œì„ 
```java
@Component
public class PerformanceProfiler {
    public QueryMetrics profileQuery(String sql, Supplier<Object> queryExecution) {
        long startTime = System.nanoTime();
        long startMemory = getUsedMemory();
        
        try {
            Object result = queryExecution.get();
            long executionTime = (System.nanoTime() - startTime) / 1_000_000;
            
            return QueryMetrics.builder()
                .executionTimeMs(executionTime)
                .memoryUsedBytes(getUsedMemory() - startMemory)
                .sqlHash(generateSqlHash(sql))
                .sqlPattern(extractSqlPattern(sql))
                .tableNames(extractTableNames(sql))
                .queryType(detectQueryType(sql))
                .build();
                
        } catch (Exception e) {
            // ì—ëŸ¬ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
            return QueryMetrics.error(e);
        }
    }
}
```

### Phase 2: Control Plane êµ¬í˜„ (3-4ì£¼)

#### 2.1 ë°ì´í„° ìˆ˜ì§‘ ì„œë¹„ìŠ¤
```go
// main.go
func main() {
    hub := websocket.NewHub()
    collector := collector.NewService(hub)
    processor := processor.NewService(hub)
    
    // Agent ë¡œê·¸ ìˆ˜ì§‘
    go collector.CollectLogs("/var/log/kubedb-monitor")
    
    // ë©”íŠ¸ë¦­ ì²˜ë¦¬
    go processor.ProcessMetrics()
    
    // WebSocket ì„œë²„
    http.HandleFunc("/ws", hub.HandleWebSocket)
    
    // REST API
    http.HandleFunc("/api/metrics", handleMetrics)
    
    log.Fatal(http.ListenAndServe(":8080", nil))
}
```

#### 2.2 ì‹¤ì‹œê°„ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë°
```go
// websocket/hub.go
type Hub struct {
    clients    map[*Client]bool
    broadcast  chan []byte
    register   chan *Client
    unregister chan *Client
}

func (h *Hub) BroadcastMetrics(metrics *QueryMetrics) {
    data, _ := json.Marshal(WebSocketMessage{
        Type: "query_execution",
        Data: metrics,
        Timestamp: time.Now(),
    })
    
    select {
    case h.broadcast <- data:
    default:
        close(h.broadcast)
    }
}
```

### Phase 3: ì›¹ ëŒ€ì‹œë³´ë“œ êµ¬í˜„ (4-5ì£¼)

#### 3.1 ì‹¤ì‹œê°„ ë°ì´í„° ì—°ê²°
```typescript
// hooks/useRealTimeMetrics.ts
export function useRealTimeMetrics() {
  const [metrics, setMetrics] = useState<QueryMetrics[]>([]);
  
  useEffect(() => {
    const ws = new WebSocket('ws://localhost:8080/ws');
    
    ws.onmessage = (event) => {
      const message = JSON.parse(event.data);
      
      if (message.type === 'query_execution') {
        setMetrics(prev => [
          message.data,
          ...prev.slice(0, 999) // ìµœê·¼ 1000ê°œë§Œ ìœ ì§€
        ]);
      }
    };
    
    return () => ws.close();
  }, []);
  
  return { metrics, isConnected: ws.readyState === WebSocket.OPEN };
}
```

#### 3.2 ì• ë‹ˆë©”ì´ì…˜ ì»´í¬ë„ŒíŠ¸
```typescript
// components/QueryFlowAnimation.tsx
export function QueryFlowAnimation() {
  const { metrics } = useRealTimeMetrics();
  const controls = useAnimation();
  
  useEffect(() => {
    if (metrics.length > 0) {
      const latestQuery = metrics[0];
      
      // ì¿¼ë¦¬ ì‹¤í–‰ ì• ë‹ˆë©”ì´ì…˜
      controls.start({
        x: [0, 200, 400],
        opacity: [0, 1, 0],
        transition: {
          duration: latestQuery.executionTimeMs / 1000,
          ease: "easeInOut"
        }
      });
    }
  }, [metrics]);
  
  return (
    <motion.div
      animate={controls}
      className="query-particle"
    >
      ğŸ’«
    </motion.div>
  );
}
```

#### 3.3 ì‹¤ì‹œê°„ ì°¨íŠ¸
```typescript
// components/RealTimeChart.tsx
export function RealTimeChart() {
  const { metrics } = useRealTimeMetrics();
  const chartData = useMemo(() => 
    processMetricsForChart(metrics), [metrics]
  );
  
  return (
    <ResponsiveContainer width="100%" height={300}>
      <LineChart data={chartData}>
        <Line 
          type="monotone" 
          dataKey="qps" 
          stroke="#00ff88"
          strokeWidth={2}
          dot={false}
          animationDuration={300}
        />
        <XAxis dataKey="timestamp" />
        <YAxis />
        <Tooltip 
          content={<CustomTooltip />}
          animationDuration={100}
        />
      </LineChart>
    </ResponsiveContainer>
  );
}
```

---

## ğŸ¨ Design System

### ìƒ‰ìƒ íŒ”ë ˆíŠ¸ (ì œë‹ˆí¼ ìŠ¤íƒ€ì¼)
```css
:root {
  /* Primary Colors */
  --color-primary: #00ff88;      /* ë„¤ì˜¨ ê·¸ë¦° */
  --color-secondary: #0099ff;    /* ì‚¬ì´ë²„ ë¸”ë£¨ */
  --color-accent: #ff6b35;       /* ê²½ê³  ì˜¤ë Œì§€ */
  
  /* Status Colors */
  --color-success: #00ff88;
  --color-warning: #ffab00;
  --color-error: #ff5252;
  --color-info: #2196f3;
  
  /* Background */
  --bg-dark: #0a0a0a;           /* ë‹¤í¬ ë°°ê²½ */
  --bg-surface: #1a1a1a;        /* ì¹´ë“œ ë°°ê²½ */
  --bg-elevated: #2a2a2a;       /* ë†’ì€ ë°°ê²½ */
  
  /* Text */
  --text-primary: #ffffff;
  --text-secondary: #b0b0b0;
  --text-muted: #666666;
}
```

### ì• ë‹ˆë©”ì´ì…˜ ë¼ì´ë¸ŒëŸ¬ë¦¬
```typescript
// animations/queryFlow.ts
export const queryFlowAnimations = {
  queryExecution: {
    initial: { x: -100, opacity: 0, scale: 0.8 },
    animate: { 
      x: 0, 
      opacity: 1, 
      scale: 1,
      transition: { duration: 0.5, ease: "easeOut" }
    },
    exit: { 
      x: 100, 
      opacity: 0, 
      scale: 0.8,
      transition: { duration: 0.3 }
    }
  },
  
  metricUpdate: {
    initial: { scale: 1 },
    animate: { 
      scale: [1, 1.1, 1],
      transition: { duration: 0.2 }
    }
  },
  
  alertPulse: {
    animate: {
      scale: [1, 1.05, 1],
      opacity: [1, 0.8, 1],
      transition: { 
        duration: 2,
        repeat: Infinity,
        ease: "easeInOut"
      }
    }
  }
};
```

---

## ğŸ“Š í•µì‹¬ ë©”íŠ¸ë¦­ ì •ì˜

### 1. ì„±ëŠ¥ ë©”íŠ¸ë¦­
- **QPS** (Queries Per Second): ì´ˆë‹¹ ì¿¼ë¦¬ ìˆ˜
- **í‰ê·  ì‘ë‹µì‹œê°„**: ì¿¼ë¦¬ ì‹¤í–‰ í‰ê·  ì‹œê°„
- **95th Percentile**: 95% ì¿¼ë¦¬ì˜ ì‘ë‹µì‹œê°„
- **ëŠë¦° ì¿¼ë¦¬ ë¹„ìœ¨**: ì„ê³„ê°’ ì´ˆê³¼ ì¿¼ë¦¬ ë¹„ìœ¨

### 2. ë¦¬ì†ŒìŠ¤ ë©”íŠ¸ë¦­
- **ì»¤ë„¥ì…˜ í’€ ì‚¬ìš©ë¥ **: Active/Total ì»¤ë„¥ì…˜ ë¹„ìœ¨
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: Heap ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ 
- **CPU ì‚¬ìš©ë¥ **: ë°ì´í„°ë² ì´ìŠ¤ ì—°ì‚° CPU ì‚¬ìš©ë¥ 
- **I/O ì²˜ë¦¬ëŸ‰**: ì½ê¸°/ì“°ê¸° ë°”ì´íŠ¸ ìˆ˜

### 3. ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­
- **í…Œì´ë¸”ë³„ ì ‘ê·¼ ë¹ˆë„**: ê° í…Œì´ë¸”ì˜ ì¿¼ë¦¬ ìˆ˜
- **ì˜¤í¼ë ˆì´ì…˜ë³„ ë¶„í¬**: SELECT/INSERT/UPDATE/DELETE ë¹„ìœ¨
- **ì‚¬ìš©ì ì„¸ì…˜ë³„ í™œë™**: ë™ì‹œ ì ‘ì† ì‚¬ìš©ì ìˆ˜
- **ì—ëŸ¬ìœ¨**: ì‹¤íŒ¨í•œ ì¿¼ë¦¬ ë¹„ìœ¨

---

## ğŸš€ êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: Foundation (2ì£¼)
- [ ] Agent JSON ë¡œê·¸ í¬ë§· êµ¬í˜„
- [ ] ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ê°œì„ 
- [ ] Control Plane ê¸°ë³¸ êµ¬ì¡° ì„¤ê³„

### Phase 2: Data Pipeline (3ì£¼)
- [ ] ì‹¤ì‹œê°„ ë¡œê·¸ ìˆ˜ì§‘ ì‹œìŠ¤í…œ
- [ ] ë©”íŠ¸ë¦­ ì²˜ë¦¬ ì—”ì§„ êµ¬í˜„
- [ ] WebSocket ìŠ¤íŠ¸ë¦¬ë° ì„œë²„

### Phase 3: Dashboard Core (4ì£¼)
- [ ] React ëŒ€ì‹œë³´ë“œ ê¸°ë³¸ êµ¬ì¡°
- [ ] ì‹¤ì‹œê°„ ë°ì´í„° ì—°ê²°
- [ ] ê¸°ë³¸ ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

### Phase 4: Advanced UI (3ì£¼)
- [ ] ì¿¼ë¦¬ í”Œë¡œìš° ì• ë‹ˆë©”ì´ì…˜
- [ ] ë©”íŠ¸ë¦­ ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜
- [ ] ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ êµ¬í˜„

### Phase 5: Polish & Optimization (2ì£¼)
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] ì• ë‹ˆë©”ì´ì…˜ polish
- [ ] ë°˜ì‘í˜• ë””ìì¸
- [ ] ë‹¤í¬ëª¨ë“œ ì™„ì„±

---

## ğŸ’¡ ì„±ê³µ ê¸°ì¤€

### ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­
- âœ… ì‹¤ì‹œê°„ ì¿¼ë¦¬ ëª¨ë‹ˆí„°ë§ (< 100ms ì§€ì—°)
- âœ… 1000+ QPS ì²˜ë¦¬ ëŠ¥ë ¥
- âœ… 24ì‹œê°„ ì—°ì† ìš´ì˜ ì•ˆì •ì„±
- âœ… ë°˜ì‘í˜• ì›¹ ëŒ€ì‹œë³´ë“œ

### ë¹„ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­
- ğŸ¨ ì œë‹ˆí¼ ìˆ˜ì¤€ì˜ UI/UX í’ˆì§ˆ
- âš¡ 60fps ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
- ğŸ“± ëª¨ë°”ì¼/íƒœë¸”ë¦¿ ì™„ë²½ ì§€ì›
- ğŸ”§ ì™¸ë¶€ ì˜ì¡´ì„± ìµœì†Œí™”

### ì‚¬ìš©ì ê²½í—˜
- ğŸ‘€ ì§ê´€ì ì¸ ë°ì´í„° ì‹œê°í™”
- ğŸ­ ë§¤ë ¥ì ì¸ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
- ğŸš¨ ì¦‰ê°ì ì¸ ì´ìƒ ìƒí™© ì•Œë¦¼
- ğŸ“Š í’ë¶€í•œ ë¶„ì„ ì •ë³´ ì œê³µ

ì´ PRDë¥¼ ë°”íƒ•ìœ¼ë¡œ ì œë‹ˆí¼ì™€ ê°™ì€ ìˆ˜ì¤€ì˜ ì•„ë¦„ë‹¤ìš´ ì‹¤ì‹œê°„ DB ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤!